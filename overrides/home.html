{% extends "main.html" %}

{% block content %}
<!-- Hero Section -->
<div class="hero">
  <div class="logo">
    <img src="assets/cmdx-light-logo.png" alt="CMDx" class="only-light" />
    <img src="assets/cmdx-dark-logo.png" alt="CMDx" class="only-dark" />
  </div>

  <h1>
    Build <span>powerful</span>, <span>predictable</span>,<br>
    and <span>maintainable</span> business logic
  </h1>

  <p class="tagline">
    CMDx is a Ruby framework for clean, composable business logic‚Äîdesigned to replace service-object sprawl.
  </p>

  <div class="buttons">
    <a href="getting_started/" class="primary">Read the Docs</a>
    <a href="https://github.com/drexed/cmdx" class="secondary">View on GitHub</a>
  </div>

  <div class="code-showcase">
    <div class="terminal-header">
      <div class="terminal-buttons">
        <span class="terminal-btn close"></span>
        <span class="terminal-btn minimize"></span>
        <span class="terminal-btn maximize"></span>
      </div>
      <span class="terminal-title">app/tasks/approve_loan.rb</span>
    </div>

```ruby
class ApproveLoan < CMDx::Task
  on_success :notify_applicant!

  required :application_id, type: :integer
  optional :override_checks, default: false

  def work
    if application.nil?
      fail!("Application not found", code: 404)
    elsif application.approved?
      skip!("Application already approved")
    else
      application.approve!
      context.approved_at = Time.current
    end
  end

  private

  def application
    @application ||= LoanApplication.find_by(id: application_id)
  end

  def notify_applicant!
    ApprovalMailer.approved(application).deliver_later
  end
end
```

  </div>
</div>

<!-- Why CMDx Section -->
<div class="section-alt">
  <div class="section">
    <h2>Why Use CMDx?</h2>
    <p class="subtitle">Everything you need to build reliable, testable business logic in Ruby</p>

    <div class="features">
      <div class="feature">
        <h3>Zero Dependencies</h3>
        <p>Pure Ruby with no external dependencies. Works with any Ruby project‚ÄîRails, Sinatra, or plain Ruby scripts.</p>
      </div>
      <div class="feature">
        <h3>Type-Safe Attributes</h3>
        <p>Declare inputs with automatic type coercion, validation, and defaults. Catch errors before they cause problems.</p>
      </div>
      <div class="feature">
        <h3>Built-in Observability</h3>
        <p>Structured logging with chain IDs, runtime metrics, and execution tracing. Debug complex workflows with ease.</p>
      </div>
      <div class="feature">
        <h3>Composable Workflows</h3>
        <p>Chain tasks together into sequential pipelines. Build complex processes from simple, tested building blocks.</p>
      </div>
      <div class="feature">
        <h3>Predictable Results</h3>
        <p>Every execution returns a result object with clear success, failure, or skipped states. No more exception juggling.</p>
      </div>
      <div class="feature">
        <h3>Production Ready</h3>
        <p>Automatic retries, middleware support, callbacks, and internationalization. Battle-tested in real applications.</p>
      </div>
    </div>
  </div>
</div>

<!-- Use Cases Section -->
<div class="section">
  <h2>Designed For</h2>
  <p class="subtitle">CMDx shines wherever you need structured, reliable business logic</p>

  <div class="use-cases">
    <div class="use-case">
      <h3>üè¶ Financial Operations</h3>
      <p>Payment processing, loan approvals, and transaction handling with full audit trails</p>
    </div>
    <div class="use-case">
      <h3>üìß Notification Systems</h3>
      <p>Multi-channel notifications with fallbacks, personalization, and delivery tracking</p>
    </div>
    <div class="use-case">
      <h3>üîÑ Data Pipelines</h3>
      <p>ETL processes, data migrations, and transformations with checkpoints and recovery</p>
    </div>
    <div class="use-case">
      <h3>üõí E-commerce Flows</h3>
      <p>Order processing, inventory management, and fulfillment orchestration</p>
    </div>
    <div class="use-case">
      <h3>üë§ User Onboarding</h3>
      <p>Registration flows, verification steps, and welcome sequences</p>
    </div>
    <div class="use-case">
      <h3>ü§ñ Background Jobs</h3>
      <p>Complex async operations with Sidekiq, retry logic, and error handling</p>
    </div>
  </div>
</div>

<!-- Quick Start Section -->
<div class="section-alt">
  <div class="section">
    <h2>Get Started in Seconds</h2>
    <p class="subtitle">Say goodbye to messy service objects. Design business logic with clarity and consistency‚Äîbuild faster, debug easier, and ship with confidence.</p>

    <div class="buttons" style="margin-top: 2rem;">
      <a href="getting_started/" class="primary">Read the Docs</a>
      <a href="https://github.com/drexed/cmdx" class="secondary">Star on GitHub</a>
    </div>
  </div>
</div>
{% endblock %}
