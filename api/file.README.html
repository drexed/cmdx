<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.38
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><div align="center">
  <img src="./src/cmdx-light-logo.png#gh-light-mode-only" width="200" alt="CMDx Light Logo">
  <img src="./src/cmdx-dark-logo.png#gh-dark-mode-only" width="200" alt="CMDx Dark Logo">

  ---

  Build business logic that’s powerful, predictable, and maintainable.

  [Home](https://drexed.github.io/cmdx) ·
  [Documentation](https://drexed.github.io/cmdx/getting_started) ·
  [Blog](https://drexed.github.io/cmdx/blog) ·
  [Changelog](./CHANGELOG.md) ·
  [Report Bug](https://github.com/drexed/cmdx/issues) ·
  [Request Feature](https://github.com/drexed/cmdx/issues) ·
  [llms.txt](https://drexed.github.io/cmdx/llms.txt) ·
  [llms-full.txt](https://drexed.github.io/cmdx/llms-full.txt) ·
  [SKILL.md](https://github.com/drexed/cmdx/blob/main/docs/SKILL.md)

  <img alt="Version" src="https://img.shields.io/gem/v/cmdx">
  <img alt="Build" src="https://github.com/drexed/cmdx/actions/workflows/ci.yml/badge.svg">
  <img alt="License" src="https://img.shields.io/badge/license-LGPL%20v3-blue.svg">
</div>
<h1 id="cmdx">CMDx</h1>

<p>Say goodbye to messy service objects. CMDx helps you design business logic with clarity and consistency—build faster, debug easier, and ship with confidence.</p>

<blockquote>
<p>[!NOTE] [Documentation](<a href="https://drexed.github.io/cmdx/getting_started">drexed.github.io/cmdx/getting_started</a>/) reflects the latest code on <code>main</code>. For version-specific documentation, please refer to the <code>docs/</code> directory within that version’s tag.</p>
</blockquote>

<h2 id="requirements">Requirements</h2>
<ul><li>
<p>Ruby: MRI 3.1+ or JRuby 9.4+</p>
</li><li>
<p>Dependencies: None</p>
</li></ul>

<p>Rails support is built-in, but it’s framework-agnostic at its core.</p>

<h2 id="installation">Installation</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='id identifier rubyid_install'>install</span> <span class='id identifier rubyid_cmdx'>cmdx</span>
<span class='comment'># - or -
</span><span class='id identifier rubyid_bundle'>bundle</span> <span class='id identifier rubyid_add'>add</span> <span class='id identifier rubyid_cmdx'>cmdx</span>
</code></pre>

<h2 id="quick-example">Quick Example</h2>

<p>Build powerful business logic in four simple steps:</p>

<h3 id="1-compose">1. Compose</h3>

<pre class="code ruby"><code class="ruby"><span class='comment'># Full-featured task example
</span><span class='comment'># See docs for minimum viable task examples
</span>
<span class='kw'>class</span> <span class='const'>AnalyzeMetrics</span> <span class='op'>&lt;</span> <span class='const'><span class='object_link'><a href="CMDx.html" title="CMDx (module)">CMDx</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="CMDx/Task.html" title="CMDx::Task (class)">Task</a></span></span>
  <span class='id identifier rubyid_register'>register</span> <span class='symbol'>:middleware</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="CMDx.html" title="CMDx (module)">CMDx</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="CMDx/Middlewares.html" title="CMDx::Middlewares (module)">Middlewares</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="CMDx/Middlewares/Correlate.html" title="CMDx::Middlewares::Correlate (module)">Correlate</a></span></span><span class='comma'>,</span> <span class='label'>id:</span> <span class='tlambda'>-&gt;</span> <span class='tlambeg'>{</span> <span class='const'>Current</span><span class='period'>.</span><span class='id identifier rubyid_request_id'>request_id</span> <span class='rbrace'>}</span>

  <span class='id identifier rubyid_on_success'>on_success</span> <span class='symbol'>:track_analysis_completion!</span>

  <span class='id identifier rubyid_required'>required</span> <span class='symbol'>:dataset_id</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:integer</span><span class='comma'>,</span> <span class='label'>numeric:</span> <span class='lbrace'>{</span> <span class='label'>min:</span> <span class='int'>1</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_optional'>optional</span> <span class='symbol'>:analysis_type</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standard</span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>def</span> <span class='id identifier rubyid_work'>work</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_dataset'>dataset</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_fail!'>fail!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dataset not found</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>code:</span> <span class='int'>404</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_dataset'>dataset</span><span class='period'>.</span><span class='id identifier rubyid_unprocessed?'>unprocessed?</span>
      <span class='id identifier rubyid_skip!'>skip!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dataset not ready for analysis</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'>PValueAnalyzer</span><span class='period'>.</span><span class='id identifier rubyid_execute'>execute</span><span class='lparen'>(</span><span class='label'>dataset:</span><span class='comma'>,</span> <span class='label'>analysis_type:</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_analyzed_at'>analyzed_at</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span>

      <span class='const'>SendAnalyzedEmail</span><span class='period'>.</span><span class='id identifier rubyid_execute'>execute</span><span class='lparen'>(</span><span class='label'>user_id:</span> <span class='const'>Current</span><span class='period'>.</span><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_manager_id'>manager_id</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_private'>private</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_dataset'>dataset</span>
    <span class='ivar'>@dataset</span> <span class='op'>||=</span> <span class='const'>Dataset</span><span class='period'>.</span><span class='id identifier rubyid_find_by'>find_by</span><span class='lparen'>(</span><span class='label'>id:</span> <span class='id identifier rubyid_dataset_id'>dataset_id</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_track_analysis_completion!'>track_analysis_completion!</span>
    <span class='id identifier rubyid_dataset'>dataset</span><span class='period'>.</span><span class='id identifier rubyid_update!'>update!</span><span class='lparen'>(</span><span class='label'>analysis_result_id:</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<h3 id="2-execute">2. Execute</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'>AnalyzeMetrics</span><span class='period'>.</span><span class='id identifier rubyid_execute'>execute</span><span class='lparen'>(</span>
  <span class='label'>dataset_id:</span> <span class='int'>123</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>analysis_type</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>advanced</span><span class='tstring_end'>&quot;</span></span>
<span class='rparen'>)</span>
</code></pre>

<h3 id="3-react">3. React</h3>

<pre class="code ruby"><code class="ruby"><span class='kw'>if</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_success?'>success?</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Metrics analyzed at </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_analyzed_at'>analyzed_at</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>elsif</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_skipped?'>skipped?</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Skipping analyzation due to: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_reason'>reason</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>elsif</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_failed?'>failed?</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Analyzation failed due to: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_reason'>reason</span><span class='embexpr_end'>}</span><span class='tstring_content'> with code </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_metadata'>metadata</span><span class='lbracket'>[</span><span class='symbol'>:code</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</code></pre>

<h3 id="4-observe">4. Observe</h3>

<pre class="code ruby"><code class="ruby">I, [2022-07-17T18:42:37.000000 #3784] INFO -- CMDx:
index=1 chain_id=&quot;018c2b95-23j4-2kj3-32kj-3n4jk3n4jknf&quot; type=&quot;Task&quot; class=&quot;SendAnalyzedEmail&quot; state=&quot;complete&quot; status=&quot;success&quot; metadata={runtime: 347}

I, [2022-07-17T18:43:15.000000 #3784] INFO -- CMDx:
index=0 chain_id=&quot;018c2b95-b764-7615-a924-cc5b910ed1e5&quot; type=&quot;Task&quot; class=&quot;AnalyzeMetrics&quot; state=&quot;complete&quot; status=&quot;success&quot; metadata={runtime: 187}
</code></pre>

<p>Ready to dive in? Check out the <a href="https://drexed.github.io/cmdx/getting_started/">Getting Started</a> guide to learn more.</p>

<h2 id="ecosystem">Ecosystem</h2>
<ul><li>
<p><a href="https://github.com/drexed/cmdx-rspec">cmdx-rspec</a> - RSpec test matchers</p>
</li></ul>

<p>For backwards compatibility of certain functionality:</p>
<ul><li>
<p><a href="https://github.com/drexed/cmdx-i18n">cmdx-i18n</a> - 85+ translations, <code>v1.5.0</code> - <code>v1.6.2</code></p>
</li><li>
<p><a href="https://github.com/drexed/cmdx-parallel">cmdx-parallel</a> - Parallel workflow tasks, <code>v1.6.1</code> - <code>v1.6.2</code></p>
</li></ul>

<h2 id="contributing">Contributing</h2>

<p>Bug reports and pull requests are welcome at <a href="https://github.com/drexed/cmdx">github.com/drexed/cmdx</a>. We’re committed to fostering a welcoming, collaborative community. Please follow our <a href="CODE_OF_CONDUCT_md.html">code of conduct</a>.</p>

<h2 id="license">License</h2>

<p>The gem is available as open source under the terms of the <a href="https://www.gnu.org/licenses/lgpl-3.0.html">LGPLv3 License</a>.</p>
</div></div>

      <div id="footer">
  Generated on Fri Feb 13 22:37:10 2026 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.38 (ruby-3.4.8).
</div>

    </div>
  </body>
</html>